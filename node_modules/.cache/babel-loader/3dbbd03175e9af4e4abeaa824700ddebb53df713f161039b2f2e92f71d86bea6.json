{"ast":null,"code":"import _slicedToArray from\"/Users/hwak/Documents/workspace/playground/bite/emotion-diary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{DiaryStateContext}from\"../App\";import{getStringDate}from\"../utill/Date\";import{emotionList}from\"../utill/emotion\";import MyHeader from\"../components/MyHeader\";import MyButton from\"../components/MyButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Diary=function Diary(){var _useParams=useParams(),id=_useParams.id;var diaryList=useContext(DiaryStateContext);var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var titleElemnet=document.getElementsByTagName('title')[0];titleElemnet.innerHTML=\"\\uAC10\\uC815 \\uC77C\\uAE30\\uC7A5 - \".concat(id,\"\\uBC88 \\uC77C\\uAE30\");},[]);useEffect(function(){if(diaryList.length>=1){var targetDiary=diaryList.find(function(it){return parseInt(it.id)===parseInt(id);});if(targetDiary){// 일기가 존재할 때\nsetData(targetDiary);}else{// 일기가 없을 때\nalert(\"없는 일기입니다.\");navigate('/',{replace:true});}};},[id,diaryList]);if(!data){return/*#__PURE__*/_jsx(\"div\",{className:\"DiaryPage\",children:\"\\uB85C\\uB529\\uC911\\uC785\\uB2C8\\uB2E4...\"});}else{var curEmotionData=emotionList.find(function(it){return parseInt(it.emotion_id)===parseInt(data.emotion);});return/*#__PURE__*/_jsxs(\"div\",{className:\"DiaryPage\",children:[/*#__PURE__*/_jsx(MyHeader,{headText:\"\".concat(getStringDate(new Date(data.date)),\" \\uAE30\\uB85D\"),leftChild:/*#__PURE__*/_jsx(MyButton,{text:\"< 뒤로가기\",onClick:function onClick(){return navigate(-1);}}),rightChild:/*#__PURE__*/_jsx(MyButton,{text:\"수정하기\",onClick:function onClick(){return navigate(\"/edit/\".concat(data.id));}})}),/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uAC10\\uC815\"}),/*#__PURE__*/_jsxs(\"div\",{className:[\"diary_img_wrapper\",\"diary_img_wrapper_\".concat(data.emotion)].join(\" \"),children:[/*#__PURE__*/_jsx(\"img\",{src:curEmotionData.emotion_img}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion_descript\",children:curEmotionData.emotion_descript})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uC77C\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"diary_content_wrapper\",children:/*#__PURE__*/_jsx(\"p\",{children:data.content})})]})]})]});}};export default Diary;","map":{"version":3,"names":["useContext","useEffect","useState","useNavigate","useParams","DiaryStateContext","getStringDate","emotionList","MyHeader","MyButton","jsx","_jsx","jsxs","_jsxs","Diary","_useParams","id","diaryList","navigate","_useState","_useState2","_slicedToArray","data","setData","titleElemnet","document","getElementsByTagName","innerHTML","concat","length","targetDiary","find","it","parseInt","alert","replace","className","children","curEmotionData","emotion_id","emotion","headText","Date","date","leftChild","text","onClick","rightChild","join","src","emotion_img","emotion_descript","content"],"sources":["/Users/hwak/Documents/workspace/playground/bite/emotion-diary/src/pages/Diary.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { DiaryStateContext } from \"../App\";\n\nimport { getStringDate } from \"../utill/Date\";\nimport { emotionList } from \"../utill/emotion\";\n\nimport MyHeader from \"../components/MyHeader\";\nimport MyButton from \"../components/MyButton\";\n\nconst Diary = () => {\n\n    const {id} = useParams();\n    const diaryList = useContext(DiaryStateContext);\n    const navigate = useNavigate();\n    const [data,setData] = useState();\n\n    useEffect(()=> {\n        const titleElemnet = document.getElementsByTagName('title')[0];\n        titleElemnet.innerHTML = `감정 일기장 - ${id}번 일기`;\n    },[]);\n\n    useEffect(()=>{\n        if(diaryList.length >= 1) {\n            const targetDiary = diaryList.find((it) => parseInt(it.id) === parseInt(id));\n\n            if (targetDiary) {\n                // 일기가 존재할 때\n                setData(targetDiary);\n            } else {\n                // 일기가 없을 때\n                alert(\"없는 일기입니다.\");\n                navigate('/',{replace:true});\n            }\n        };\n    },[id,diaryList]);\n\n    if (!data) {\n        return <div className=\"DiaryPage\">로딩중입니다...</div>\n    } else {\n\n        const curEmotionData = emotionList.find((it)=> parseInt(it.emotion_id) === parseInt(data.emotion));\n\n        return (\n            <div className=\"DiaryPage\">\n                <MyHeader \n                headText={`${getStringDate(new Date(data.date))} 기록`}\n                leftChild={\n                    <MyButton text={\"< 뒤로가기\"} onClick={() => navigate(-1)} />\n                }\n                rightChild={\n                    <MyButton text={\"수정하기\"} onClick={() => navigate(`/edit/${data.id}`)} />\n                }\n                />\n                <article>\n                    <section>\n                        <h4>오늘의 감정</h4>\n                        <div className={[\"diary_img_wrapper\", `diary_img_wrapper_${data.emotion}`].join(\" \")}>\n                            <img src={curEmotionData.emotion_img} />\n                            <div className=\"emotion_descript\">\n                                {curEmotionData.emotion_descript}\n                            </div>\n                        </div>\n                    </section>\n                    <section>\n                        <h4>오늘의 일기</h4>\n                        <div className=\"diary_content_wrapper\">\n                            <p>{data.content}</p>\n                        </div>\n                    </section>\n                </article>\n            </div>\n        );\n    } \n};\n\nexport default Diary;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}